<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>&lt;cIs&gt; Code Investigation Squad</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lora:wght@400;700&family=Special+Elite&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      background: #2a2a36 url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSg0NSkiPjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9IiMyYzJjMzgiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjcGF0dGVybikiIG9wYWNpdHk9IjAuMDMiLz48L3N2Zz4=');
      color: #e0d6c3;
      font-family: 'Lora', serif;
      padding: 20px;
      line-height: 1.6;
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
    }
    
    header {
      text-align: center;
      padding: 20px 0 30px;
      margin-bottom: 30px;
      border-bottom: 1px solid #4a4a55;
      position: relative;
    }
    
    header::after {
      content: "";
      position: absolute;
      bottom: -1px;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      height: 1px;
      background: linear-gradient(90deg, transparent, #c9a96a, transparent);
    }
    
    h1 {
      font-family: 'Playfair Display', serif;
      font-size: 3.2rem;
      margin-bottom: 15px;
      color: #c9a96a;
      letter-spacing: 1px;
      position: relative;
      display: inline-block;
    }
    
    h1::after {
      content: "";
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background: #c9a96a;
      border-radius: 3px;
    }
    
    .subtitle {
      font-size: 1.25rem;
      max-width: 700px;
      margin: 0 auto;
      line-height: 1.7;
      color: #b8b0a0;
      font-family: 'Lora', serif;
    }
    
    .top-timer-section {
      background: rgba(50, 50, 60, 0.85);
      border: 1px solid #4a4a55;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 40px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
    }
    
    .timer-header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
    }
    
    .section-title {
      font-family: 'Special Elite', cursive;
      font-size: 1.8rem;
      color: #c9a96a;
      margin-bottom: 0;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .settings-row {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
      font-size: 0.95rem;
      background: rgba(45, 45, 55, 0.7);
      padding: 10px 15px;
      border-radius: 8px;
    }
    
    .settings-row label {
      color: #b8b0a0;
      margin-right: 2px;
      font-family: 'Lora', serif;
    }
    
    .session-input {
      background: #3a3a4a;
      border: 1px solid #4a4a55;
      border-radius: 6px;
      color: #c9a96a;
      font-family: 'Lora', serif;
      padding: 6px 10px;
      font-size: 1rem;
      width: 65px;
      text-align: center;
      transition: all 0.3s ease;
    }
    
    .session-input:focus {
      outline: none;
      border-color: #c9a96a;
      box-shadow: 0 0 0 2px rgba(201, 169, 106, 0.3);
    }
    
    .timer-display {
      background: rgba(45, 45, 55, 0.7);
      border-radius: 12px;
      padding: 30px;
      text-align: center;
      position: relative;
      overflow: hidden;
      border: 1px solid #4a4a55;
    }
    
    .timer-display::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, #c9a96a, #8c7851, #c9a96a);
    }
    
    .state {
      font-size: 1.8rem;
      margin-bottom: 15px;
      color: #c9a96a;
      font-family: 'Special Elite', cursive;
      letter-spacing: 1px;
    }
    
    .time {
      font-size: 4.5rem;
      font-weight: bold;
      margin: 20px 0;
      font-family: 'Courier New', monospace;
      color: #e0d6c3;
      text-shadow: 0 0 10px rgba(224, 214, 195, 0.2);
      letter-spacing: 2px;
    }
    
    .interval-count {
      font-size: 1.2rem;
      color: #b8b0a0;
      margin-bottom: 25px;
      font-family: 'Lora', serif;
    }
    
    .timer-controls {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 10px;
    }
    
    .timer-btn {
      padding: 14px 30px;
      border: none;
      border-radius: 8px;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      background: #3a3a4a;
      color: #c9a96a;
      border: 1px solid #4a4a55;
      font-family: 'Special Elite', cursive;
      letter-spacing: 1px;
      min-width: 120px;
    }
    
    .timer-btn:hover {
      background: #c9a96a;
      color: #2a2a36;
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }
    
    .timer-btn:active {
      transform: translateY(1px);
    }
    
    .personas-section {
      background: rgba(50, 50, 60, 0.85);
      border: 1px solid #4a4a55;
      border-radius: 12px;
      padding: 30px;
      margin-bottom: 40px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
    }
    
    .personas-header {
      text-align: center;
      margin-bottom: 35px;
    }
    
    .personas-header h2 {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      color: #c9a96a;
      margin-bottom: 15px;
      position: relative;
      display: inline-block;
    }
    
    .personas-header h2::after {
      content: "";
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 3px;
      background: #c9a96a;
      border-radius: 3px;
    }
    
    .personas-header p {
      max-width: 700px;
      margin: 0 auto;
      color: #b8b0a0;
      font-size: 1.1rem;
      line-height: 1.7;
    }
    
    .persona-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 25px;
    }
    
    .persona-card {
      background: rgba(45, 45, 55, 0.7);
      border-radius: 12px;
      padding: 25px;
      transition: all 0.3s ease;
      border: 1px solid #4a4a55;
      position: relative;
      overflow: hidden;
    }
    
    .persona-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
      border-color: #c9a96a;
    }
    
    .persona-card::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, #c9a96a, #8c7851);
    }
    
    .persona-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .persona-name {
      font-size: 1.5rem;
      font-weight: bold;
      color: #c9a96a;
      font-family: 'Playfair Display', serif;
    }
    
    .persona-icon {
      font-size: 1.8rem;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(201, 169, 106, 0.15);
      border-radius: 50%;
      color: #c9a96a;
    }
    
    .persona-identity {
      font-style: italic;
      margin-bottom: 15px;
      color: #b8b0a0;
      font-size: 0.95rem;
      border-left: 2px solid #c9a96a;
      padding-left: 12px;
    }
    
    .persona-question {
      background: rgba(60, 60, 70, 0.4);
      padding: 15px;
      border-radius: 8px;
      margin: 15px 0;
      font-size: 1rem;
      border-left: 3px solid #c9a96a;
      position: relative;
    }
    
    .persona-question::before {
      content: """;
      position: absolute;
      top: -10px;
      left: 10px;
      font-size: 3rem;
      color: rgba(201, 169, 106, 0.2);
      font-family: Georgia, serif;
    }
    
    .persona-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 20px;
    }
    
    .persona-tag {
      display: inline-block;
      padding: 6px 12px;
      background: rgba(201, 169, 106, 0.15);
      border-radius: 20px;
      font-size: 0.85rem;
      color: #c9a96a;
      font-family: 'Lora', serif;
    }
    
    .instructions-section {
      background: rgba(50, 50, 60, 0.85);
      border: 1px solid #4a4a55;
      border-radius: 12px;
      padding: 30px;
      margin-bottom: 40px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
    }
    
    .instructions-header {
      text-align: center;
      margin-bottom: 35px;
    }
    
    .instructions-header h2 {
      font-family: 'Playfair Display', serif;
      font-size: 2.2rem;
      color: #c9a96a;
      margin-bottom: 15px;
      position: relative;
      display: inline-block;
    }
    
    .instructions-header h2::after {
      content: "";
      position: absolute;
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background: #c9a96a;
      border-radius: 3px;
    }
    
    .instructions-content {
      max-width: 800px;
      margin: 0 auto;
    }
    
    .instructions-list {
      list-style: none;
      counter-reset: instruction-counter;
      padding: 0;
    }
    
    .instructions-list li {
      counter-increment: instruction-counter;
      margin-bottom: 25px;
      padding-left: 50px;
      position: relative;
      line-height: 1.7;
      font-size: 1.1rem;
      color: #b8b0a0;
    }
    
    .instructions-list li::before {
      content: counter(instruction-counter);
      position: absolute;
      left: 0;
      top: 0;
      width: 36px;
      height: 36px;
      background: #c9a96a;
      color: #2a2a36;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Special Elite', cursive;
      font-weight: bold;
      font-size: 1.2rem;
    }
    
    .highlight {
      color: #c9a96a;
      font-weight: bold;
    }
    
    footer {
      text-align: center;
      padding: 30px 0;
      color: #7f7a6d;
      font-size: 0.9rem;
      margin-top: 20px;
      border-top: 1px solid #4a4a55;
      font-family: 'Lora', serif;
    }
    
    @media (max-width: 900px) {
      .timer-header {
        flex-direction: column;
        gap: 20px;
      }
      
      .settings-row {
        width: 100%;
        justify-content: center;
      }
      
      .time {
        font-size: 3.5rem;
      }
      
      .timer-btn {
        padding: 12px 20px;
        min-width: 100px;
      }
      
      .instructions-list li {
        padding-left: 40px;
      }
    }
    
    @media (max-width: 600px) {
      h1 {
        font-size: 2.5rem;
      }
      
      .time {
        font-size: 3rem;
      }
      
      .timer-controls {
        flex-direction: column;
        align-items: center;
        gap: 10px;
      }
      
      .timer-btn {
        width: 80%;
      }
      
      .session-input {
        width: 50px;
        padding: 4px 6px;
      }
      
      .instructions-list li {
        padding-left: 45px;
        font-size: 1rem;
      }
      
      .instructions-list li::before {
        width: 30px;
        height: 30px;
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1><i class="fas fa-music"></i> Jazz Noir Code Investigation</h1>
      <p class="subtitle">Adopt a detective persona and investigate your code like a noir private eye</p>
    </header>

    <div class="top-timer-section">
      <div class="timer-header">
        <h2 class="section-title"><i class="fas fa-stopwatch"></i> Deep Work Timer</h2>
        <div class="settings-row">
          <span>Session: <span id="session-count">1</span>/</span>
          <label for="max-sessions">Max</label>
          <input type="number" id="max-sessions" class="session-input" min="1" max="10" value="4">
          <label for="work-length">Work</label>
          <input type="number" id="work-length" class="session-input" min="1" max="180" value="20">m
          <label for="short-break">Short</label>
          <input type="number" id="short-break" class="session-input" min="1" max="60" value="5">m
          <label for="long-break">Long</label>
          <input type="number" id="long-break" class="session-input" min="1" max="120" value="30">m
        </div>
      </div>
      <div class="timer-display">
        <div class="state">Work</div>
        <div class="time">20:00</div>
        <div class="interval-count">Session: <span id="session-counter">1</span>/<span id="max-sessions-display">4</span></div>
        <div class="timer-controls">
          <button id="start-btn" class="timer-btn">Start</button>
          <button id="pause-btn" class="timer-btn">Pause</button>
          <button id="reset-btn" class="timer-btn">Reset</button>
        </div>
      </div>
    </div>
    
    <div class="personas-section">
      <div class="personas-header">
        <h2>Code Investigation Squad</h2>
        <p>Adopt these personas to transform code reading into an investigative game. Each detective has unique skills to uncover different insights in your codebase.</p>
      </div>
      
      <div class="persona-grid">
        <div class="persona-card">
          <div class="persona-header">
            <div class="persona-name">Historian</div>
            <div class="persona-icon"><i class="fas fa-user-shield"></i></div>
          </div>
          <div class="persona-identity">Empathetic Good Cop • Seeks intent, context</div>
          <div class="persona-question">"What problem were you solving? What constraints forced this approach?"</div>
          <div class="persona-tags">
            <span class="persona-tag">Assumes noble intent</span>
            <span class="persona-tag">Reads commit messages</span>
            <span class="persona-tag">Finds hidden gems</span>
          </div>
        </div>
        
        <div class="persona-card">
          <div class="persona-header">
            <div class="persona-name">Prosecutor</div>
            <div class="persona-icon"><i class="fas fa-gavel"></i></div>
          </div>
          <div class="persona-identity">Ruthless Bad Cop • Finds flaws, risks</div>
          <div class="persona-question">"Why this spaghetti mess? What edge cases did you ignore?"</div>
          <div class="persona-tags">
            <span class="persona-tag">Interrogates every line</span>
            <span class="persona-tag">Tags suspicious code</span>
            <span class="persona-tag">Demands tests</span>
          </div>
        </div>
        
        <div class="persona-card">
          <div class="persona-header">
            <div class="persona-name">The Architect</div>
            <div class="persona-icon"><i class="fas fa-drafting-compass"></i></div>
          </div>
          <div class="persona-identity">Systems Cartographer • Maps structure, flow</div>
          <div class="persona-question">"Do modules have single responsibilities? How does data move between components?"</div>
          <div class="persona-tags">
            <span class="persona-tag">Sketches diagrams</span>
            <span class="persona-tag">Flags coupling issues</span>
            <span class="persona-tag">Assesses scalability</span>
          </div>
        </div>
        
        <div class="persona-card">
          <div class="persona-header">
            <div class="persona-name">The Accountant</div>
            <div class="persona-icon"><i class="fas fa-calculator"></i></div>
          </div>
          <div class="persona-identity">Efficiency Auditor • Tracks resources, cost</div>
          <div class="persona-question">"Is this O(n²) when it could be O(n)? Why are we loading all data into memory?"</div>
          <div class="persona-tags">
            <span class="persona-tag">Profiles CPU/memory</span>
            <span class="persona-tag">Obsesses over Big O</span>
            <span class="persona-tag">Checks caching</span>
          </div>
        </div>
        
        <div class="persona-card">
          <div class="persona-header">
            <div class="persona-name">The Janitor</div>
            <div class="persona-icon"><i class="fas fa-broom"></i></div>
          </div>
          <div class="persona-identity">Maintenance Oracle • Spots future pain</div>
          <div class="persona-question">"Will I understand this at 3 AM? Why are there 6 versions of the same utility function?"</div>
          <div class="persona-tags">
            <span class="persona-tag">Leaves TODO notes</span>
            <span class="persona-tag">Hunts duplication</span>
            <span class="persona-tag">Finds tech debt</span>
          </div>
        </div>
        
        <div class="persona-card">
          <div class="persona-header">
            <div class="persona-name">Chaos Engineer</div>
            <div class="persona-icon"><i class="fas fa-bolt"></i></div>
          </div>
          <div class="persona-identity">System Saboteur • Injects failure scenarios</div>
          <div class="persona-question">"What if this API returns 10GB? How does this recover when Redis goes down?"</div>
          <div class="persona-tags">
            <span class="persona-tag">Simulates disasters</span>
            <span class="persona-tag">Identifies resilience gaps</span>
            <span class="persona-tag">Tests failure recovery</span>
          </div>
        </div>
      </div>
    </div>
    
    <div class="instructions-section">
      <div class="instructions-header">
        <h2><i class="fas fa-lightbulb"></i> How to Use This Dashboard</h2>
      </div>
      <div class="instructions-content">
        <ul class="instructions-list">
          <li><span class="highlight">Assign a persona</span> before each work session based on your current task</li>
          <li><span class="highlight">Start the timer</span> when you begin your deep work session</li>
          <li>During work intervals, <span class="highlight">actively interrogate</span> code using your persona's perspective</li>
          <li>When the timer ends, <span class="highlight">step away</span> for a short break (5 minutes)</li>
          <li>After completing 4 work sessions, take a <span class="highlight">long break</span> (20-30 minutes)</li>
          <li>Use breaks to <span class="highlight">switch personas</span> if needed for your next task</li>
          <li>If you get distracted, <span class="highlight">pause the timer</span>, reset, then restart</li>
        </ul>
      </div>
    </div>
    
    <footer>
      <p>Jazz Noir Code Investigation Dashboard • Designed for Deep Work • Created with the investigative coder in mind</p>
      <p>"Code isn't read - it's interrogated, audited, or reverse-engineered. Wear the right hat for the job."</p>
    </footer>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const timerDisplay = document.querySelector('.time');
      const stateDisplay = document.querySelector('.state');
      const sessionCount = document.getElementById('session-count');
      const sessionCounter = document.getElementById('session-counter');
      const maxSessionsDisplay = document.getElementById('max-sessions-display');
      const startBtn = document.getElementById('start-btn');
      const pauseBtn = document.getElementById('pause-btn');
      const resetBtn = document.getElementById('reset-btn');

      const maxSessionsInput = document.getElementById('max-sessions');
      const workLengthInput = document.getElementById('work-length');
      const shortBreakInput = document.getElementById('short-break');
      const longBreakInput = document.getElementById('long-break');

      let timer;
      let isRunning = false;
      let isPaused = false;
      let currentState = 'work';
      let sessionsCompleted = 0;
      let secondsLeft = 0;

      // Initialize settings
      function initSettings() {
        maxSessionsInput.value = localStorage.getItem('maxSessions') || 4;
        workLengthInput.value = localStorage.getItem('workLength') || 20;
        shortBreakInput.value = localStorage.getItem('shortBreak') || 5;
        longBreakInput.value = localStorage.getItem('longBreak') || 30;
        
        maxSessionsDisplay.textContent = maxSessionsInput.value;
        
        // Timer state
        if (localStorage.getItem('timerState')) {
          const state = JSON.parse(localStorage.getItem('timerState'));
          currentState = state.currentState || 'work';
          sessionsCompleted = state.sessionsCompleted || 0;
          secondsLeft = state.secondsLeft || parseInt(workLengthInput.value) * 60;
          isRunning = state.isRunning || false;
          isPaused = state.isPaused || false;
          sessionCount.textContent = sessionsCompleted + 1;
          sessionCounter.textContent = sessionsCompleted + 1;
          stateDisplay.textContent = state.currentState.charAt(0).toUpperCase() + state.currentState.slice(1);
        } else {
          secondsLeft = parseInt(workLengthInput.value) * 60;
        }
        
        updateTimerDisplay();
      }

      function saveSettings() {
        localStorage.setItem('maxSessions', maxSessionsInput.value);
        localStorage.setItem('workLength', workLengthInput.value);
        localStorage.setItem('shortBreak', shortBreakInput.value);
        localStorage.setItem('longBreak', longBreakInput.value);
        saveTimerState();
      }

      function saveTimerState() {
        localStorage.setItem('timerState', JSON.stringify({
          currentState,
          sessionsCompleted,
          secondsLeft,
          isRunning,
          isPaused
        }));
      }

      initSettings();

      let maxSessions = parseInt(maxSessionsInput.value);
      let workLength = parseInt(workLengthInput.value) * 60;
      let shortBreak = parseInt(shortBreakInput.value) * 60;
      let longBreak = parseInt(longBreakInput.value) * 60;

      if (isRunning) {
        startTimer();
      }

      // Event Listeners
      startBtn.addEventListener('click', startTimer);
      pauseBtn.addEventListener('click', pauseTimer);
      resetBtn.addEventListener('click', resetTimer);

      [maxSessionsInput, workLengthInput, shortBreakInput, longBreakInput].forEach(input => {
        input.addEventListener('change', () => {
          maxSessions = parseInt(maxSessionsInput.value);
          workLength = parseInt(workLengthInput.value) * 60;
          shortBreak = parseInt(shortBreakInput.value) * 60;
          longBreak = parseInt(longBreakInput.value) * 60;
          maxSessionsDisplay.textContent = maxSessions;
          
          if (!isRunning) {
            resetTimer();
          }
          
          saveSettings();
        });
      });

      // Timer Functions
      function startTimer() {
        if (isRunning && !isPaused) return;
        isRunning = true;
        isPaused = false;
        startBtn.textContent = 'Resume';
        timer = setInterval(() => {
          secondsLeft--;
          updateTimerDisplay();
          saveTimerState();
          if (secondsLeft <= 0) {
            clearInterval(timer);
            isRunning = false;
            handleTimerEnd();
          }
        }, 1000);
      }

      function pauseTimer() {
        if (!isRunning) return;
        clearInterval(timer);
        isRunning = false;
        isPaused = true;
        startBtn.textContent = 'Resume';
        saveTimerState();
      }

      function resetTimer() {
        clearInterval(timer);
        isRunning = false;
        isPaused = false;
        startBtn.textContent = 'Start';
        currentState = 'work';
        sessionsCompleted = 0;
        secondsLeft = workLength;
        sessionCount.textContent = '1';
        sessionCounter.textContent = '1';
        stateDisplay.textContent = 'Work';
        updateTimerDisplay();
        saveTimerState();
      }

      function updateTimerDisplay() {
        const minutes = Math.floor(secondsLeft / 60);
        const seconds = secondsLeft % 60;
        timerDisplay.textContent =
          `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      }

      function handleTimerEnd() {
        playJazzSound();
        if (currentState === 'work') {
          sessionsCompleted++;
          sessionCount.textContent = sessionsCompleted + 1;
          sessionCounter.textContent = sessionsCompleted + 1;
          if (sessionsCompleted < maxSessions) {
            currentState = 'break';
            stateDisplay.textContent = 'Break';
            secondsLeft = shortBreak;
          } else {
            currentState = 'longBreak';
            stateDisplay.textContent = 'Long Break';
            secondsLeft = longBreak;
          }
        } else {
          currentState = 'work';
          stateDisplay.textContent = 'Work';
          secondsLeft = workLength;
          if (sessionsCompleted >= maxSessions) {
            sessionsCompleted = 0;
            sessionCount.textContent = '1';
            sessionCounter.textContent = '1';
          }
        }
        updateTimerDisplay();
        saveTimerState();
        if (!(sessionsCompleted >= maxSessions && currentState === 'longBreak')) {
          setTimeout(() => { startTimer(); }, 1000);
        }
      }

      function playJazzSound() {
        try {
          const AudioContext = window.AudioContext || window.webkitAudioContext;
          const audioContext = new AudioContext();
          
          // Create a jazz chord
          const chordNotes = [293.66, 349.23, 440.0, 523.25]; // D, F, A, C
          const now = audioContext.currentTime;
          
          chordNotes.forEach((freq, index) => {
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            
            osc.type = index % 2 === 0 ? 'sine' : 'triangle';
            osc.frequency.value = freq;
            
            gain.gain.setValueAtTime(0.15, now);
            gain.gain.exponentialRampToValueAtTime(0.01, now + 1.5);
            
            osc.connect(gain);
            gain.connect(audioContext.destination);
            
            osc.start(now + index * 0.05);
            osc.stop(now + 1.5 + index * 0.05);
          });
        } catch (e) {
          console.log("Audio error:", e);
        }
      }
    });
  </script>
</body>
</html>
